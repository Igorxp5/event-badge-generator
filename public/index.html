<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Ferramenta para Gerar Crachás para Eventos</title>
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css"
        integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
    <link rel="stylesheet" href="styles/main.css">
</head>
<body>
    <header class="bg-primary shadow-sm rounded-bottom p-2 mb-5">
        <div class="container d-flex justify-content-between">
            <h1 class="text-white">Gerar Crachás para Eventos</h1>
            <a href="https://blog.even3.com.br/crachas-para-eventos-academicos/"
                class="text-white h1" title="Saiba como e por que fazer crachás para eventos!">
                <i class="fas fa-info-circle"></i>
            </a>
        </div>
    </header>

    <div id="body-content" class="col-12 px-4">
        <form id="form-psd-templater">
            <section class="container mb-5">
                <header class="d-flex flex-nowrap align-items-center mb-4">
                    <span class="bg-primary rounded-circle shadow-sm h5 d-flex flex-column
                        justify-content-center flex-shrink-0 m-0 mr-3" style="width: 45px; height: 45px;">
                        <strong class="text-white text-center">1</strong>
                    </span>
                    <div>
                        <h2 class="h4 m-0">Definir Modelo</h2>
                        <h3 class="h5 text-secondary d-block m-0">
                            Faça upload de um modelo em PSD.
                        </h3>
                    </div>
                </header>
                <div id="upload-container" class="row text-center">
                    <div class="col-6 p-5 border-right">
                        <div id="input-psd-container">
                            <input type="file" id="input-psd" accept=".psd" class="d-none">
                            <label for="input-psd" class="btn btn-primary shadow-sm" style="cursor: pointer;">
                                Enviar um Modelo PSD
                            </label>
                        </div>
                        <div id="loading-input-psd" class="spinner-border text-primary d-none"></div>
                    </div>
                    <div class="col-6 p-5">
                        <button id="btn-open-template-gallery" type="button" class="btn btn-primary shadow-sm">
                            Escolher um Modelo da Galeria
                        </button>
                    </div>
                </div>
                <div id="psd-image-container" class="container p-0 w-25 shadow-sm d-none">
                    <img id="psd-image" class="w-100" title="Modelo PSD" alt="Modelo PSD">
                </div>
            </section>

            <section class="container mb-5">
                <header class="d-flex flex-nowrap align-items-center mb-4">
                    <span class="bg-primary rounded-circle shadow-sm h5 d-flex flex-column
                                            justify-content-center flex-shrink-0 m-0 mr-3" style="width: 45px; height: 45px;">
                        <strong class="text-white text-center">2</strong>
                    </span>
                    <div>
                        <h2 class="h4 m-0">Definir Tamanho do Crachá</h2>
                        <h3 class="h5 text-secondary d-block m-0">
                            Escolha o tamanho da crachá em milimetros, dentre as predefinidas ou uma personalizada.
                        </h3>
                    </div>
                </header>
                <div class="row container">
                    <div class="form-row col-12 d-flex justify-content-between">
                        <div class="form-group col-md-4">
                            <label for="pdf-size-preset">Predifinições</label>
                            <select class="custom-select" id="pdf-size-preset">
                                <option value="105, 148" selected>A6</option>
                                <option value="74, 105">A7</option>
                                <option value="">Personalizado</option>
                            </select>
                        </div>
                        <div class="form-group col-md-4">
                            <label for="pdf-size-width">Largura</label>
                            <div class="input-group mb-3">
                                <input type="number" min="0" id="pdf-size-width" class="form-control"
                                    placeholder="largura" required>
                                <div class="input-group-append">
                                    <span class="input-group-text">mm</span>
                                </div>
                            </div>
                        </div>
                        <div class="form-group col-md-4">
                            <label for="pdf-size-height">Altura</label>
                            <div class="input-group mb-3">
                                <input type="number" min="0" id="pdf-size-height" class="form-control"
                                    placeholder="Altura" required>
                                <div class="input-group-append">
                                    <span class="input-group-text">mm</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <section class="container mb-5">
                <header class="d-flex flex-nowrap align-items-center mb-4">
                    <span class="bg-primary rounded-circle shadow-sm h5 d-flex flex-column
                                justify-content-center flex-shrink-0 m-0 mr-3" style="width: 45px; height: 45px;">
                        <strong class="text-white text-center">3</strong>
                    </span>
                    <div>
                        <h2 class="h4 m-0">Selecionar Campos</h2>
                        <h3 class="h5 text-secondary d-block m-0">
                            Selecione os campos que serão modificados, troque o nome da camada para o nome da coluna
                            que será usada para preenchê-la. E defina valores padrões para os campos (opcional).
                        </h3>
                    </div>
                </header>
                <div class="row text-center">
                    <div class="col-12">
                        <div id="no-layers-yet" class="col-12 py-3">
                            Ainda não foi escolhido o PSD. Faça o upload do PSD ou escolha uma da galeria.
                        </div>
                        <div id="list-psd-layers" class="list-group col-12 text-left"></div>
                    </div>
                </div>
            </section>

            <section class="container mb-5">
                <header class="d-flex flex-nowrap align-items-center mb-4">
                    <span class="bg-primary rounded-circle shadow-sm h5 d-flex flex-column
                                justify-content-center flex-shrink-0 m-0 mr-3" style="width: 45px; height: 45px;">
                        <strong class="text-white text-center">4</strong>
                    </span>
                    <div>
                        <h2 class="h4 m-0">Importar Participantes</h2>
                        <h3 class="h5 text-secondary d-block m-0">
                            Copie os dados dos participantes de uma planilha, e cole aqui. Os dados
                            devem conter a mesma quantidade de informações escolhidas no modelo,
                            a nome das colunas deve estar presente na primeira linha.
                        </h3>
                    </div>
                </header>
                <div class="row">
                    <textarea id="template-content-values" class="form-control shadow-inside-sm" rows="10" required></textarea>
                </div>
            </section>

            <section class="d-flex container text-center pb-5">
                <div class="col-6 d-flex">
                    <button id="btn-generate-pdf" type="button" class="btn btn-primary shadow-sm m-auto">
                        Gerar PDF
                    </button>
                    <a id="pdf-file-link" href="" target="_blank"
                        class="btn btn-primary shadow-sm m-auto d-none">
                        Ver PDF
                    </a>
                    <div id="loading-generate-psd-container" class="progress w-100 m-auto d-none">
                        <div id="loading-generate-psd" class="progress-bar" role="progressbar" style="width: 25%;">25%</div>
                    </div>
                </div>
                <div class="col-6">
                    <button id="reset-application" type="button" class="btn btn-primary shadow-sm">
                        Novo Modelo
                    </button>
                </div>
            </section>
        </form>
    </div>

    <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
        integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
        integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bs-custom-file-input/dist/bs-custom-file-input.min.js"></script>
    <script src="https://unpkg.com/jspdf@latest/dist/jspdf.min.js"></script>
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/socket.io/1.3.6/socket.io.min.js"></script>
    <script type="text/javascript" src="scripts/constants_elements.js"></script>
    <script type="text/javascript" src="scripts/functionalities.js"></script>
    <script type="text/javascript" src="scripts/handle_components.js"></script>
    <script type="text/javascript" src="scripts/socket.js"></script>
</body>
</html>